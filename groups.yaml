default_view:
  view: yes
  icon: mdi:home-assistant
  name: Home View
  entities:
    - group.alarma_view
    - group.tracking_view
    - group.camaras_view
    - group.tiempo_view
    - group.luces_view
    - group.cocina_view
    - group.salon_view
    - group.estudio_view
    - group.system_view
    - group.batery_view
    - group.config_view
    - group.homy_status_grp
    - group.family_home_grp
    - group.main_sensor_grp

homy_status_grp:
  name: Estado General Homy
  entities:
    - alarm_control_panel.ha
    - sensor.family_home
    - sensor.time
    - binary_sensor.family_any_home
    - binary_sensor.family_all_home
    #- sensor.family_sleep_home

family_home_grp:
  name: Family Home?
  entities:
    - sensor.family_last_tracking
    - binary_sensor.family_home_aac
    - binary_sensor.family_home_mfc
    - binary_sensor.family_home_paf
    - binary_sensor.family_home_aaf

main_sensor_grp:
  name: Sensores Principales
  entities:
    - sensor.temperature_158d00022b65ff
    - sensor.temperature_158d00022c6a47
    - sun.sun
    - sensor.moon
    - sensor.sun_next_setting
    - sensor.sun_next_rising

alarma_view:
  name: Panel Control Alarma
  icon: mdi:security-home
  view: yes
  entities:
    - group.alarma_status_grp
    - group.alarma_sirena_grp
    - group.alarma_sensor_entrada_grp
    - group.alarma_sensor_estudio_grp
    - group.alarma_sensor_salon_grp
    - group.alarma_sensor_cocina_grp
    - group.alarma_sensor_dormitorios_grp

alarma_status_grp:
  name: Estado Alarma
  view: no
  entities:
    - alarm_control_panel.ha
    - sensor.alarm_zone

alarma_sirena_grp:
  name: Botón Pánico
  view: no
  entities:
    - input_boolean.panic_button
    - script.alarma_boton_panico

alarma_sensor_entrada_grp:
  name: Sensores Entrada
  view: no
  entities:
    - binary_sensor.door_window_sensor_158d00022b393c
    - binary_sensor.motion_sensor_158d0001e55903
    - sensor.illumination_158d0001e55903
    - binary_sensor.motion_sensor_158d0001e637f6
    - sensor.illumination_158d0001e637f6
    - binary_sensor.cube_158d00024a4a62

alarma_sensor_estudio_grp:
  name: Sensores Estudio
  view: no
  entities:
    - binary_sensor.motion_sensor_158d0001e464a6
    - sensor.illumination_158d0001e464a6

alarma_sensor_cocina_grp:
  name: Sensores Cocina
  view: no
  entities:
    - binary_sensor.smoke_sensor_158d0001fd321c

alarma_sensor_salon_grp:
  name: Sensores Salón
  view: no
  entities:
    - binary_sensor.door_window_sensor_158d000201e2e7
    - binary_sensor.motion_sensor_158d0001e05661
    - sensor.illumination_158d0001e05661

alarma_sensor_dormitorios_grp:
  name: Sensores Dormitorios
  view: no
  entities:
    - binary_sensor.door_window_sensor_158d000201dddb
    - binary_sensor.door_window_sensor_158d00020b7c27
    - binary_sensor.door_window_sensor_158d00020457e0
    - binary_sensor.door_window_sensor_158d00020910b1

sensores_home:
  name: Grupo Sensores Home
  view: no
  entities:
    - binary_sensor.door_window_sensor_158d00022b393c
    - binary_sensor.door_window_sensor_158d000201dddb
    - binary_sensor.door_window_sensor_158d00020b7c27
    - binary_sensor.door_window_sensor_158d00020457e0
    - binary_sensor.door_window_sensor_158d00020910b1
    - binary_sensor.door_window_sensor_158d000201e2e7

sensores_away:
  name: Grupo Sensores Away
  view: no
  entities:
    - binary_sensor.motion_sensor_158d0001e55903 # Presencia Entrada Interior
    - binary_sensor.motion_sensor_158d0001e464a6 # Presencia Estudio
    - binary_sensor.motion_sensor_158d0001e05661 # Presencia Salón
    - group.alarma_sensor_home

tracking_view:
  view: yes
  icon: mdi:map-marker
  name: Tracking
  entities:
    - group.track_aac_grp
    - group.track_mfc_grp
    - group.track_paf_grp
    - group.track_aaf_grp
    - group.track_batery_grp

track_aac_grp:
  name: Agustín Tracking
  entities:
    - sensor.meta_track_aac
    - binary_sensor.family_home_aac
    - sensor.home_aac
    - binary_sensor.baye_home_aac
    - sensor.baye_probability_aac
    - device_tracker.b8b52a3bf0384e72a268705d9b06e496 #AAC
    - device_tracker.aac_iphone_owntrack
    - device_tracker.aac_ios
    - device_tracker.aac_iphone_nmap

track_mfc_grp:
  name: Malen Tracking
  entities:
    - sensor.meta_track_mfc
    - binary_sensor.family_home_mfc
    - sensor.home_mfc
    - binary_sensor.baye_home_mfc
    - sensor.baye_probability_mfc
    - device_tracker.e3c67d6b51bf445ba241a0045bfe0222 #MFC
    - device_tracker.mfc_iphone_owntrack_mfc
    - device_tracker.mfc_ios
    - device_tracker.mfc_iphone_nmap

track_paf_grp:
  name: Paloma Tracking
  entities:
    - sensor.meta_track_paf
    - binary_sensor.family_home_paf
    - sensor.home_paf
    - binary_sensor.baye_home_paf
    - sensor.baye_probability_paf
    - device_tracker.93e3d52336a54d4d898b204abdf3ee94 #PAF
    - device_tracker.paf_ios
    - device_tracker.paf_iphone_nmap

track_aaf_grp:
  name: Agu Tracking
  entities:
    - sensor.meta_track_aaf
    - binary_sensor.family_home_aaf
    - sensor.home_aaf
    - binary_sensor.baye_home_aaf
    - sensor.baye_probability_aaf
    - device_tracker.bef743fa74f2464ba458612ad3e1c195 #AAF
    - device_tracker.aaf_iphone_nmap

camaras_view:
  view: yes
  icon: mdi:cctv
  name: Cámaras
  entities:
    - camera.ipcam11_cocina
    - camera.ipcam12_estudio

tiempo_view:
  view: yes
  icon: mdi:weather-partlycloudy
  name: El Tiempo
  entities:
    - camera.weather_satelite
    - group.tiempo_hoy_grp
    - group.tiempo_man_grp

tiempo_hoy_grp:
  name: Hoy
  entities:
    - sensor.hoy_condition
    - sensor.hoy_temperature
    - sensor.hoy_temperature_max
    - sensor.hoy_temperature_min
    - sensor.hoy_wind_speed
    - sensor.hoy_humidity

tiempo_man_grp:
  name: Previsión Mañana
  entities:
    - sensor.manana_condition
    - sensor.manana_temperature
    - sensor.manana_temperature_max
    - sensor.manana_temperature_min
    - sensor.manana_wind_speed
    - sensor.manana_humidity

luces_view:
  icon: mdi:lightbulb-on
  view: yes
  name: Luces
  entities:
    - group.luces_entrada_grp
    - group.luces_exterior_grp
    - group.luces_cocina_grp
    - group.luces_salon_grp
    - group.luces_estudio_grp

luces_entrada_grp:
  name: Luces Entrada
  entities:
    - switch.wall_switch_left_158d0002236e75
    - light.hue_entrada
    - light.hue_pasillo

luces_exterior_grp:
  name: Luces Exterior
  entities:
    - switch.wall_switch_right_158d0002236e75

luces_cocina_grp:
  name: Luces Cocina
  entities:
    - light.hue_cocina

luces_salon_grp:
  name: Luces Salon
  entities:
    - light.room_salon_tv
    - light.hue_cilindro
    - light.hue_seises
    - light.hue_lectura
    - light.gateway_light_7811dcb788fa

luces_estudio_grp:
  name: Luces Estudio
  entities:
    - light.hue_estudio

cocina_view:
  view: yes
  icon: mdi:food
  name: Cocina
  entities:
    - camera.ipcam11_cocina
    - group.luces_cocina_grp
    - group.alarma_sensor_cocina_grp
    - media_player.firetv_cocina

salon_view:
  view: yes
  icon: mdi:sofa
  name: Salón
  entities:
    - group.alarma_sensor_salon_grp
    - group.sensor_salon_grp
    - group.luces_salon_grp
    - remote.apple_tv
    - media_player.apple_tv

sensor_salon_grp:
  name: Temperatura Salón
  view: no
  entities:
    - sensor.temperature_158d00022b65ff
    - sensor.humidity_158d00022b65ff
    - sensor.pressure_158d00022b65ff
    #- sensor.illumination_7811dcb788fa

estudio_view:
  view: yes
  icon: mdi:laptop-mac
  name: Estudio
  entities:
    - group.alarma_sensor_estudio_grp
    - group.sensor_estudio_grp
    - group.luces_estudio_grp
    - camera.ipcam12_estudio

sensor_estudio_grp:
  name: Temperatura Estudio
  view: no
  entities:
    - sensor.temperature_158d00022c6a47
    - sensor.humidity_158d00022c6a47
    - sensor.pressure_158d00022c6a47
    - sensor.illumination_158d0001e464a6

system_view:
  view: yes
  icon: mdi:server
  name: System Status
  entities:
    - group.hass_status_grp
    - group.pi3cpuram_grp
    - group.pi3storage_grp
    - group.track_nmap_grp

hass_status_grp:
  view: no
  icon: mdi:server
  name: System Status
  entities:
    - sensor.date
    - sensor.uptime
    - sensor.last_boot
    - sensor.ssl_certificate_expiry

pi3cpuram_grp:
  name: PI3 CPU & RAM
  entities:
    - sensor.load_15m
    - sensor.processor_use
    - sensor.memory_use_percent
    - sensor.memory_use
    - sensor.memory_free

pi3storage_grp:
  name: PI3 Almacenamiento
  entities:
    - sensor.disk_use_percent_
    - sensor.disk_use_
    - sensor.disk_free_
    - sensor.swap_use_percent

track_nmap_grp:
  name: NMAP Device Tracking
  view: no
  entities:
    - device_tracker.macbook
    - device_tracker.apple_timecapsule
    - device_tracker.ipad_nmap
    - device_tracker.ipad_mini_nmap
    #- device_tracker.xiaomi_gateway

batery_view:
  view: yes
  icon: mdi:battery-50
  name: Batery Status
  entities:
    - group.iphone_battery_grp
    - group.sensor_bat_entrada_grp
    - group.sensor_bat_salon_grp
    - group.sensor_bat_estudio_grp
    - group.sensor_bat_dormitorios_grp

iphone_battery_grp:
  name: Iphone Battery Tracking
  entities:
    - sensor.iphoneaac_battery_level_3
    - sensor.iphoneaac_battery_state_2
    - sensor.iphonemalen_battery_level_2
    - sensor.iphonemalen_battery_state
    - sensor.iphone_paf_battery_level_2
    - sensor.iphone_paf_battery_state_2
    - sensor.a2f_battery_level_2
    - sensor.a2f_battery_state_2

sensor_bat_entrada_grp:
  name: Baterías Entrada/Cocina
  view: no
  entities:
    - sensor.bateria_detector_incendios
    - sensor.bateria_presencia_entrada
    - sensor.bateria_presencia_entrada_ext
    - sensor.bateria_puerta_entrada
    - sensor.bateria_magic_cube

sensor_bat_salon_grp:
  name: Baterías Salón
  view: no
  entities:
    - sensor.bateria_presencia_salon
    - sensor.bateria_puerta_salon
    - sensor.bateria_temperatura_salon

sensor_bat_estudio_grp:
  name: Baterías Estudio
  view: no
  entities:
    - sensor.bateria_presencia_estudio
    - sensor.bateria_temperatura_estudio

sensor_bat_dormitorios_grp:
  name: Baterías Dormitorios
  view: no
  entities:
     - sensor.bateria_ventana_paf
     - sensor.bateria_ventana_mfc
     - sensor.bateria_ventana_aaf
     - sensor.bateria_ventana_salita

config_view:
  name: Configuración
  view: yes
  icon: mdi:settings
  entities:
      - group.setup_family_home
      - group.xiaomi_gateway_grp
      - group.reglas_alarma_grp
      - group.notify_telegram_grp
      - group.reglas_luces_grp

setup_family_home:
  name: Tracking Family Home
  view: no
  entities:
    - input_boolean.home_mfc
    - input_boolean.home_aac
    - input_boolean.home_paf
    - input_boolean.home_aaf
    - input_number.family_sleep_home
    - automation.t01_family_away
    - automation.t02_family_at_home

notify_telegram_grp:
  name: Notificaciones Telegram
  view: no
  entities:
    - input_select.home_notify
    - input_boolean.notify_mfc
    - input_boolean.notify_aac
    - input_boolean.notify_paf
    - input_boolean.notify_aaf

msg_control_grp:
  name: Notificaciones
  view: no
  entities:
    - input_text.mensaje_tit
    - input_text.mensaje_msg

reglas_alarma_grp:
  name: Reglas Alarma
  view: no
  entities:
    - input_boolean.alarm_siren_setup
    - automation.a0_alarma_disarmed_to_pending
    - automation.a1_alarma_armed_to_pending
    - automation.a2_alarma_armado_away
    - automation.a3_alarma_armado_home
    - automation.a4_alarma_desarmada
    - automation.a5_alarma_disparada
    - automation.a6_alarma_trigger_armado_away
    - automation.a7_alarma_trigger_armado_home
    - automation.a8_alarma_magic_cube
    - automation.a9_alarma_boton_panico_off

reglas_luces_grp:
  name: Reglas Luces
  view: no
  entities:
    - automation.l01_luces_on_exterior_sunset
    - automation.l02_luces_off_exterior_all_family_home
    - automation.l03_luces_off_exterior_amanecer_4h
    - automation.l04_luces_on_salon_puesta_sol_1h
    - automation.l05_luces_off_medianoche
    - automation.l06_luces_off_amanecer
    - automation.l07_luces_on_entrada_segun_sensor
    - automation.l08_luces_on_exterior_segun_sensor

xiaomi_gateway_grp:
  name: Sirena Xiaomi Gateway
  view: no
  entities:
    - input_boolean.mute_xiaomi_gw_sounds
    - input_select.xiaomi_gw_sound_warning
    - input_number.xiaomi_gw_volume_warning
    - input_select.xiaomi_gw_sound_alarm
    - input_number.xiaomi_gw_volume_alarm

